{"version":3,"sources":["pages/ChatPage/index.js"],"names":["ws","WebSocket","Chat","Messages","AddMessageForm","useState","messages","setMessages","useEffect","addEventListener","event","JSON","parse","data","console","log","style","height","overflowY","map","messageBlock","index","Message","message","photo","userName","userId","width","src","alt","ChatPage"],"mappings":"iKAEMA,EAAK,IAAIC,UACb,gEAWIC,EAAO,WACX,OACE,gCACE,cAACC,EAAD,IACA,cAACC,EAAD,QAKAD,EAAW,WACf,MAAgCE,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAQA,OANAC,qBAAU,WACRR,EAAGS,iBAAiB,WAAW,SAACC,GAC9BH,EAAYI,KAAKC,MAAMF,EAAMG,OAC7BC,QAAQC,IAAIJ,KAAKC,MAAMF,EAAMG,YAE9B,IAED,sBAAKG,MAAO,CAAEC,OAAQ,OAAQC,UAAW,QAAzC,qBAEGZ,EAASa,KAAI,SAACC,EAAcC,GAAf,OACZ,cAACC,EAAD,CAEEC,QAASH,EAAaG,QACtBC,MAAOJ,EAAaI,MACpBC,SAAUL,EAAaK,SACvBC,OAAQN,EAAaM,QAJhBL,UAWTC,EAAU,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACjC,OACE,gCACE,qBAAKE,MAAO,GAAIC,IAAKJ,EAAOK,IAAI,WAChC,+BACE,4BAAIJ,MAEN,8BAAMF,IACN,2BAKAnB,EAAiB,WACrB,OACE,gCACE,6BACA,8CAIS0B,UA/DE,WACf,OACE,8BACE,cAAC5B,EAAD","file":"static/js/5.ef36092a.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nconst ws = new WebSocket(\r\n  \"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\"\r\n);\r\n\r\nconst ChatPage = () => {\r\n  return (\r\n    <div>\r\n      <Chat />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Chat = () => {\r\n  return (\r\n    <div>\r\n      <Messages />\r\n      <AddMessageForm />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Messages = () => {\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    ws.addEventListener(\"message\", (event) => {\r\n      setMessages(JSON.parse(event.data));\r\n      console.log(JSON.parse(event.data));\r\n    });\r\n  }, []);\r\n  return (\r\n    <div style={{ height: \"60vh\", overflowY: \"auto\" }}>\r\n      Messages\r\n      {messages.map((messageBlock, index) => (\r\n        <Message\r\n          key={index}\r\n          message={messageBlock.message}\r\n          photo={messageBlock.photo}\r\n          userName={messageBlock.userName}\r\n          userId={messageBlock.userId}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Message = ({ message, photo, userName }) => {\r\n  return (\r\n    <div>\r\n      <img width={40} src={photo} alt=\"avatar\" />\r\n      <span>\r\n        <b>{userName}</b>\r\n      </span>\r\n      <div>{message}</div>\r\n      <hr />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AddMessageForm = () => {\r\n  return (\r\n    <div>\r\n      <textarea></textarea>\r\n      <button>Send</button>\r\n    </div>\r\n  );\r\n};\r\nexport default ChatPage;\r\n"],"sourceRoot":""}